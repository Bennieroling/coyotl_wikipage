readme file<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Wiki Project Plan</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--light);
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        h2 {
            color: var(--secondary);
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light);
            font-size: 1.8rem;
        }
        
        h3 {
            color: var(--secondary);
            margin: 25px 0 15px;
            font-size: 1.4rem;
        }
        
        p {
            margin-bottom: 15px;
        }
        
        ul, ol {
            margin-bottom: 20px;
            padding-left: 25px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .phase {
            margin-bottom: 40px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid var(--primary);
        }
        
        .timeline {
            display: flex;
            margin: 30px 0;
            position: relative;
            overflow-x: auto;
        }
        
        .timeline-item {
            flex: 0 0 auto;
            width: 200px;
            margin-right: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 6px;
            border-top: 4px solid var(--primary);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .timeline-item h4 {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .timeline-item p {
            font-size: 0.9rem;
            color: #666;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }
        
        .tech-category {
            flex: 1;
            min-width: 250px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .tech-category h3 {
            margin-top: 0;
            color: var(--primary);
            font-size: 1.3rem;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f1f1f1;
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 0.9em;
        }
        
        pre {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 20px;
            border: 1px solid #ddd;
        }
        
        .feature-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
        }
        
        .feature-table th, .feature-table td {
            padding: 12px 15px;
            border: 1px solid #ddd;
            text-align: left;
        }
        
        .feature-table th {
            background-color: var(--primary);
            color: white;
            font-weight: 600;
        }
        
        .feature-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .milestone {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid var(--primary);
        }
        
        .milestone-icon {
            font-size: 1.5rem;
            margin-right: 15px;
            color: var(--primary);
        }
        
        .milestone-content {
            flex: 1;
        }
        
        .milestone h4 {
            margin: 0 0 5px;
            color: var(--secondary);
        }
        
        .milestone p {
            margin: 0;
            color: #666;
        }
        
        .task-list {
            margin-bottom: 30px;
        }
        
        .task-item {
            padding: 12px 15px;
            background-color: white;
            border-radius: 5px;
            margin-bottom: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border-left: 3px solid var(--primary);
        }
        
        .task-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .task-title {
            font-weight: 600;
            color: var(--secondary);
        }
        
        .task-priority {
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 12px;
            background-color: #eee;
        }
        
        .task-priority.high {
            background-color: var(--danger);
            color: white;
        }
        
        .task-priority.medium {
            background-color: var(--warning);
            color: white;
        }
        
        .task-priority.low {
            background-color: var(--success);
            color: white;
        }
        
        .task-description {
            font-size: 0.9rem;
            color: #666;
        }
        
        footer {
            margin-top: 50px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid var(--light);
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Custom Wiki Project Plan</h1>
            <p>A comprehensive plan for creating a custom wiki system with React, Vite, Node.js, and MongoDB</p>
        </header>
        
        <h2>Project Overview</h2>
        <p>This project aims to create a customizable wiki platform that overcomes the HTML limitations of Wiki.js while maintaining its ease of use. The system will be built using React and Vite for the frontend, providing complete creative freedom in design and functionality, with a Node.js/Express backend and MongoDB for data storage. The wiki will be hosted on an Ubuntu server.</p>
        
        <div class="tech-stack">
            <div class="tech-category">
                <h3>Frontend</h3>
                <ul>
                    <li><strong>React</strong> - UI library for building the interface</li>
                    <li><strong>Vite</strong> - Build tool for fast development</li>
                    <li><strong>React Router</strong> - For page routing and navigation</li>
                    <li><strong>TipTap/Slate.js</strong> - Rich text editing</li>
                    <li><strong>React Query</strong> - Data fetching and caching</li>
                    <li><strong>Tailwind CSS</strong> - Utility-first CSS framework</li>
                </ul>
            </div>
            <div class="tech-category">
                <h3>Backend</h3>
                <ul>
                    <li><strong>Node.js</strong> - JavaScript runtime</li>
                    <li><strong>Express</strong> - Web framework</li>
                    <li><strong>MongoDB</strong> - NoSQL database</li>
                    <li><strong>Mongoose</strong> - MongoDB object modeling</li>
                    <li><strong>JWT</strong> - Authentication</li>
                    <li><strong>Multer</strong> - File uploads handling</li>
                </ul>
            </div>
            <div class="tech-category">
                <h3>Deployment</h3>
                <ul>
                    <li><strong>Ubuntu Server</strong> - Operating system</li>
                    <li><strong>Nginx</strong> - Web server and reverse proxy</li>
                    <li><strong>PM2</strong> - Process manager for Node.js</li>
                    <li><strong>Let's Encrypt</strong> - SSL certificates</li>
                    <li><strong>Docker</strong> (optional) - Containerization</li>
                </ul>
            </div>
        </div>
        
        <h2>Project Phases</h2>
        
        <div class="timeline">
            <div class="timeline-item">
                <h4>Phase 1</h4>
                <p>Project Setup &amp; Basic Structure</p>
                <p><small>Weeks 1-2</small></p>
            </div>
            <div class="timeline-item">
                <h4>Phase 2</h4>
                <p>Core Functionality Development</p>
                <p><small>Weeks 3-6</small></p>
            </div>
            <div class="timeline-item">
                <h4>Phase 3</h4>
                <p>Advanced Features</p>
                <p><small>Weeks 7-10</small></p>
            </div>
            <div class="timeline-item">
                <h4>Phase 4</h4>
                <p>Testing &amp; Optimization</p>
                <p><small>Weeks 11-12</small></p>
            </div>
            <div class="timeline-item">
                <h4>Phase 5</h4>
                <p>Deployment &amp; Documentation</p>
                <p><small>Weeks 13-14</small></p>
            </div>
        </div>
        
        <div class="phase">
            <h3>Phase 1: Project Setup &amp; Basic Structure</h3>
            <p>In this initial phase, we'll set up the development environment and create the basic structure of the project.</p>
            
            <div class="task-list">
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Set up React/Vite project</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Initialize a new React project using Vite and install core dependencies.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Create Node.js/Express backend</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Set up the Express server structure with basic routes and middleware.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Set up MongoDB connection</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Configure Mongoose and create basic data schemas for wiki pages.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Create basic page layout components</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Develop main layout, navigation, and basic page structure components.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement routing structure</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Set up React Router with essential routes for the wiki.</div>
                </div>
            </div>
        </div>
        
        <div class="phase">
            <h3>Phase 2: Core Functionality Development</h3>
            <p>In this phase, we'll develop the core features needed for a functional wiki system.</p>
            
            <div class="task-list">
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement rich text editor</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Integrate TipTap or Slate.js for WYSIWYG content editing with HTML support.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Create page CRUD operations</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Develop APIs and frontend components for creating, reading, updating, and deleting wiki pages.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement user authentication</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Create user registration, login system, and JWT authentication flow.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Add basic file upload functionality</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Create backend for file uploads and frontend components for file attachments.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement basic search functionality</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Create search API and frontend search interface for finding wiki content.</div>
                </div>
            </div>
        </div>
        
        <div class="phase">
            <h3>Phase 3: Advanced Features</h3>
            <p>This phase focuses on implementing advanced features that enhance the wiki's functionality.</p>
            
            <div class="task-list">
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement content versioning</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Create a system for tracking and managing page revisions and history.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Set up permissions and roles</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Implement role-based access control for wiki content and actions.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Create wiki navigation structure</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Develop hierarchical navigation, categories, and content organization.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement advanced media handling</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Add support for images, videos, and embeds with preview and management.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Add collaborative editing features</span>
                        <span class="task-priority low">Low Priority</span>
                    </div>
                    <div class="task-description">Implement real-time collaboration using Socket.io or similar technology.</div>
                </div>
            </div>
        </div>
        
        <div class="phase">
            <h3>Phase 4: Testing &amp; Optimization</h3>
            <p>In this phase, we'll focus on testing, performance optimization, and ensuring the system is robust.</p>
            
            <div class="task-list">
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Write unit and integration tests</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Create comprehensive tests for frontend and backend functionality.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Optimize frontend performance</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Improve loading times, rendering performance, and code splitting.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Optimize backend and database</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Implement caching, indexing, and query optimization.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement responsive design</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Ensure the wiki works well on mobile devices and various screen sizes.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Conduct user acceptance testing</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Get feedback from potential users and make necessary adjustments.</div>
                </div>
            </div>
        </div>
        
        <div class="phase">
            <h3>Phase 5: Deployment &amp; Documentation</h3>
            <p>The final phase involves deploying the wiki to your Ubuntu server and creating documentation.</p>
            
            <div class="task-list">
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Set up Ubuntu server environment</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Configure the server with necessary software and security settings.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Configure Nginx as reverse proxy</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Set up Nginx to serve the frontend and proxy API requests to the backend.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Implement SSL with Let's Encrypt</span>
                        <span class="task-priority high">High Priority</span>
                    </div>
                    <div class="task-description">Secure the wiki with HTTPS using Let's Encrypt certificates.</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Set up CI/CD pipeline</span>
                        <span class="task-priority low">Low Priority</span>
                    </div>
                    <div class="task-description">Configure automated testing and deployment workflow (optional).</div>
                </div>
                
                <div class="task-item">
                    <div class="task-header">
                        <span class="task-title">Create user and administrator documentation</span>
                        <span class="task-priority medium">Medium Priority</span>
                    </div>
                    <div class="task-description">Write guides for users and system administrators.</div>
                </div>
            </div>
        </div>
        
        <h2>Feature Comparison with Wiki.js</h2>
        
        <table class="feature-table">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th>Wiki.js</th>
                    <th>Custom Wiki</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>HTML Flexibility</td>
                    <td>Limited</td>
                    <td>Complete</td>
                    <td>Full control over HTML structure and styling</td>
                </tr>
                <tr>
                    <td>Content Editing</td>
                    <td>Multiple editors</td>
                    <td>Custom editor</td>
                    <td>Tailored WYSIWYG editor with HTML capabilities</td>
                </tr>
                <tr>
                    <td>Authentication</td>
                    <td>Built-in</td>
                    <td>Custom implementation</td>
                    <td>Can be integrated with existing authentication systems</td>
                </tr>
                <tr>
                    <td>File Uploads</td>
                    <td>Built-in</td>
                    <td>Custom implementation</td>
                    <td>More control over file storage and processing</td>
                </tr>
                <tr>
                    <td>Versioning</td>
                    <td>Built-in</td>
                    <td>Custom implementation</td>
                    <td>Flexible versioning system tailored to needs</td>
                </tr>
                <tr>
                    <td>Search</td>
                    <td>Built-in</td>
                    <td>Custom implementation</td>
                    <td>Can be optimized for specific content types</td>
                </tr>
                <tr>
                    <td>Plugins/Extensions</td>
                    <td>Limited to available modules</td>
                    <td>Unlimited</td>
                    <td>Can add any functionality needed without restrictions</td>
                </tr>
                <tr>
                    <td>Styling/Theming</td>
                    <td>Theme-based</td>
                    <td>Complete freedom</td>
                    <td>Unlimited styling options with CSS/Tailwind</td>
                </tr>
                <tr>
                    <td>Development Complexity</td>
                    <td>Low (pre-built)</td>
                    <td>Higher (custom)</td>
                    <td>Requires more development time but offers more control</td>
                </tr>
                <tr>
                    <td>Maintenance</td>
                    <td>Updates provided</td>
                    <td>Self-maintained</td>
                    <td>Requires ongoing maintenance but allows for custom fixes</td>
                </tr>
            </tbody>
        </table>
        
        <h2>Data Models</h2>
        
        <h3>User Model</h3>
        <pre>
{
  username: String,
  email: String,
  password: String (hashed),
  role: String (admin, editor, viewer),
  createdAt: Date,
  updatedAt: Date
}
        </pre>
        
        <h3>Page Model</h3>
        <pre>
{
  title: String,
  slug: String,
  content: String (HTML),
  tags: [String],
  category: String,
  createdBy: ObjectId (ref: User),
  updatedBy: ObjectId (ref: User),
  createdAt: Date,
  updatedAt: Date,
  isPublished: Boolean
}
        </pre>
        
        <h3>Version Model</h3>
        <pre>
{
  pageId: ObjectId (ref: Page),
  content: String (HTML),
  createdBy: ObjectId (ref: User),
  createdAt: Date,
  comment: String
}
        </pre>
        
        <h3>File Model</h3>
        <pre>
{
  filename: String,
  originalName: String,
  path: String,
  size: Number,
  mimetype: String,
  uploadedBy: ObjectId (ref: User),
  uploadedAt: Date
}
        </pre>
        
        <h2>API Endpoints</h2>
        
        <h3>Authentication</h3>
        <ul>
            <li><code>POST /api/auth/register</code> - Register a new user</li>
            <li><code>POST /api/auth/login</code> - User login</li>
            <li><code>GET /api/auth/user</code> - Get current user info</li>
            <li><code>POST /api/auth/logout</code> - User logout</li>
        </ul>
        
        <h3>Pages</h3>
        <ul>
            <li><code>GET /api/pages</code> - Get list of pages (with pagination and filtering)</li>
            <li><code>GET /api/pages/:slug</code> - Get a specific page by slug</li>
            <li><code>POST /api/pages</code> - Create a new page</li>
            <li><code>PUT /api/pages/:slug</code> - Update a page</li>
            <li><code>DELETE /api/pages/:slug</code> - Delete a page</li>
        </ul>
        
        <h3>Versions</h3>
        <ul>
            <li><code>GET /api/pages/:slug/versions</code> - Get version history for a page</li>
            <li><code>GET /api/pages/:slug/versions/:versionId</code> - Get specific version of a page</li>
            <li><code>POST /api/pages/:slug/versions/:versionId/restore</code> - Restore a specific version</li>
        </ul>
        
        <h3>Files</h3>
        <ul>
            <li><code>POST /api/files/upload</code> - Upload a file</li>
            <li><code>GET /api/files</code> - Get list of files</li>
            <li><code>GET /api/files/:id</code> - Get file details</li>
            <li><code>DELETE /api/files/:id</code> - Delete a file</li>
        </ul>
        
        <h3>Search</h3>
        <ul>
            <li><code>GET /api/search</code> - Search wiki content</li>
        </ul>
        
        <h2>Project Structure</h2>
        
        <pre>
custom-wiki/
├── client/                  # React/Vite frontend
│   ├── public/              # Static assets
│   ├── src/
│   │   ├── components/      # Reusable UI components
│   │   │   ├── common/      # Common UI elements
│   │   │   ├── editor/      # Editor components
│   │   │   ├── layout/      # Layout components
│   │   │   └── wiki/        # Wiki-specific components
│   │   ├── hooks/           # Custom React hooks
│   │   ├── contexts/        # React context providers
│   │   ├── pages/           # Page components
│   │   ├── services/        # API services
│   │   ├── utils/           # Utility functions
│   │   ├── styles/          # Global styles
│   │   ├── App.jsx          # Main app component
│   │   └── main.jsx         # Entry point
│   ├── .eslintrc.js         # ESLint config
│   ├── tailwind.config.js   # Tailwind CSS config
│   └── vite.config.js       # Vite config
│
├── server/                  # Node.js/Express backend
│   ├── config/              # Configuration files
│   ├── controllers/         # Request handlers
│   ├── middleware/          # Express middleware
│   ├── models/              # Mongoose models
│   ├── routes/              # API routes
│   ├── services/            # Business logic
│   ├── utils/               # Utility functions
│   └── server.js            # Entry point
│
├── nginx/                   # Nginx configuration
│   └── custom-wiki.conf     # Nginx site config
│
├── scripts/                 # Deployment and utility scripts
│   ├── deploy.sh            # Deployment script
│   └── backup.sh            # Database backup script
│
├── .gitignore               # Git ignore file
├── package.json             # Project metadata
└── README.md                # Project documentation
        </pre>
        
        <h2>Key Components</h2>
        
        <h3>Editor Component</h3>
        <p>The rich text editor is a central component of the wiki. We'll use TipTap editor which provides a powerful foundation for creating a WYSIWYG editor with full HTML support.</p>
        
        <pre>
// Editor component structure - how it will be implemented in React
const WikiEditor = ({ content, onChange, readOnly = false }) => {
  const editor = useEditor({
    extensions: [
      StarterKit,
      Image,
      Link,
      Table
    ],
    content,
    editable: !readOnly,
    onUpdate: ({ editor }) => {
      onChange(editor.getHTML())
    }
  })
  
  return (
    &lt;div className="wiki-editor"&gt;
      {!readOnly && &lt;EditorToolbar editor={editor} /&gt;}
      &lt;EditorContent editor={editor} /&gt;
    &lt;/div&gt;
  )
}
        </pre>
        
        <h3>Page Component</h3>
        <p>This component will handle rendering wiki pages, switching between view and edit modes, and saving changes.</p>
        
        <pre>
// Page component structure - how it will be implemented in React
const WikiPage = () => {
  const { slug } = useParams()
  const [page, setPage] = useState(null)
  const [isEditing, setIsEditing] = useState(false)
  const [content, setContent] = useState('')
  
  // Fetch page data
  useEffect(() => {
    async function fetchPage() {
      try {
        const response = await apiClient.getPage(slug)
        setPage(response.data)
        setContent(response.data.content)
      } catch (error) {
        // Handle error
      }
    }
    
    fetchPage()
  }, [slug])
  
  // Save page changes
  const savePage = async () => {
    try {
      await apiClient.updatePage(slug, { content })
      setIsEditing(false)
      // Refresh page data
    } catch (error) {
      // Handle error
    }
  }
  
  if (!page) return &lt;Loading /&gt;
  
  return (
    &lt;div className="wiki-page"&gt;
      &lt;PageHeader
        title={page.title}
        isEditing={isEditing}
        onEdit={() => setIsEditing(true)}
        onSave={savePage}
        onCancel={() => setIsEditing(false)}
      /&gt;
      
      &lt;div className="wiki-content"&gt;
        {isEditing ? (
          &lt;WikiEditor 
            content={content} 
            onChange={setContent}
          /&gt;
        ) : (
          &lt;div dangerouslySetInnerHTML={{ __html: content }} /&gt;
        )}
      &lt;/div&gt;
      
      &lt;PageFooter 
        createdBy={page.createdBy}
        updatedAt={page.updatedAt}
      /&gt;
    &lt;/div&gt;
  )
}
        </pre>
        
        <h3>Navigation Component</h3>
        <p>This component will handle the wiki navigation structure, showing categories and pages in a hierarchical view.</p>
        
        <pre>
// Navigation component structure - how it will be implemented in React
const WikiNavigation = () => {
  const [structure, setStructure] = useState([])
  
  useEffect(() => {
    async function fetchStructure() {
      try {
        const response = await apiClient.getWikiStructure()
        setStructure(response.data)
      } catch (error) {
        // Handle error
      }
    }
    
    fetchStructure()
  }, [])
  
  return (
    &lt;div className="wiki-navigation"&gt;
      &lt;div className="wiki-search"&gt;
        &lt;SearchBar /&gt;
      &lt;/div&gt;
      
      &lt;div className="wiki-tree"&gt;
        {structure.map(category => (
          &lt;NavigationCategory 
            key={category.id}
            category={category}
          /&gt;
        ))}
      &lt;/div&gt;
    &lt;/div&gt;
  )
}
        </pre>
        
        <h2>Risk Assessment and Mitigation</h2>
        
        <table class="feature-table">
            <thead>
                <tr>
                    <th>Risk</th>
                    <th>Impact</th>
                    <th>Likelihood</th>
                    <th>Mitigation Strategy</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Development time exceeds estimates</td>
                    <td>High</td>
                    <td>Medium</td>
                    <td>Prioritize core features, use iterative development approach, consider using existing libraries</td>
                </tr>
                <tr>
                    <td>Performance issues with rich text editor</td>
                    <td>High</td>
                    <td>Medium</td>
                    <td>Benchmark different editor options, implement content lazy loading, optimize rendering</td>
                </tr>
                <tr>
                    <td>Database scaling challenges</td>
                    <td>Medium</td>
                    <td>Low</td>
                    <td>Implement proper indexing, consider caching strategies, plan for potential sharding</td>
                </tr>
                <tr>
                    <td>Security vulnerabilities</td>
                    <td>High</td>
                    <td>Medium</td>
                    <td>Implement proper authentication, input validation, CSRF protection, regular security audits</td>
                </tr>
                <tr>
                    <td>User adoption challenges</td>
                    <td>Medium</td>
                    <td>Medium</td>
                    <td>Focus on intuitive UI/UX, provide comprehensive documentation, gather feedback early</td>
                </tr>
            </tbody>
        </table>
        
        <h2>Testing Strategy</h2>
        
        <h3>Unit Testing</h3>
        <ul>
            <li>Test individual components and functions</li>
            <li>Use Jest and React Testing Library for frontend</li>
            <li>Use Mocha/Chai for backend testing</li>
            <li>Aim for at least 80% code coverage</li>
        </ul>
        
        <h3>Integration Testing</h3>
        <ul>
            <li>Test API integrations</li>
            <li>Test database operations</li>
            <li>Test authentication flow</li>
            <li>Use Supertest for API testing</li>
        </ul>
        
        <h3>End-to-End Testing</h3>
        <ul>
            <li>Test complete user flows</li>
            <li>Use Cypress for automated E2E tests</li>
            <li>Cover critical paths: page creation, editing, search, navigation</li>
        </ul>
        
        <h3>Performance Testing</h3>
        <ul>
            <li>Test page load times</li>
            <li>Test editor performance with large documents</li>
            <li>Test search performance with large datasets</li>
            <li>Use Lighthouse for frontend performance testing</li>
        </ul>
        
        <h2>Deployment Architecture</h2>
        
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 6px; margin: 20px 0;">
            <p style="text-align: center; font-style: italic;">Deployment Architecture Diagram</p>
            <pre style="background-color: white; padding: 15px; border-radius: 5px;">
+------------------------+         +------------------------+
|                        |         |                        |
|    User's Browser      |         |    Ubuntu Server       |
|                        |         |                        |
+------------------------+         +------------------------+
           |                                  |
           |   HTTPS Request                  |
           v                                  v
+------------------------+         +------------------------+
|                        |         |                        |
|    Nginx Webserver     |&lt;------->|    Let's Encrypt SSL   |
|    (Reverse Proxy)     |         |                        |
|                        |         |                        |
+------------------------+         +------------------------+
           |                                  |
           |                                  |
           v                                  v
+------------------------+         +------------------------+
|                        |         |                        |
|  React/Vite Frontend   |         |   Node.js/Express API  |
|  (Static Build Files)  |&lt;------->|   (Running with PM2)   |
|                        |         |                        |
+------------------------+         +------------------------+
                                              |
                                              |
                                              v
                                   +------------------------+
                                   |                        |
                                   |    MongoDB Database    |
                                   |                        |
                                   +------------------------+
            </pre>
        </div>
        
        <h2>Deployment Instructions</h2>
        
        <h3>Setting Up Ubuntu Server</h3>
        <pre>
# Update system
sudo apt update && sudo apt upgrade -y

# Install Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# Install MongoDB
sudo apt install -y mongodb
sudo systemctl enable mongodb
sudo systemctl start mongodb

# Install Nginx
sudo apt install -y nginx
sudo systemctl enable nginx
sudo systemctl start nginx

# Install PM2
sudo npm install -g pm2

# Install Certbot for SSL
sudo apt install -y certbot python3-certbot-nginx
        </pre>
        
        <h3>Deploying the Application</h3>
        <pre>
# Clone repository
git clone https://github.com/yourusername/custom-wiki.git
cd custom-wiki

# Install dependencies
cd client
npm install
npm run build

cd ../server
npm install

# Start the backend with PM2
pm2 start server.js --name "wiki-backend"
pm2 save
pm2 startup

# Configure Nginx
sudo cp nginx/custom-wiki.conf /etc/nginx/sites-available/
sudo ln -s /etc/nginx/sites-available/custom-wiki.conf /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx

# Set up SSL
sudo certbot --nginx -d wiki.yourdomain.com
        </pre>
        
        <h2>Maintenance Plan</h2>
        
        <h3>Regular Maintenance Tasks</h3>
        <ul>
            <li><strong>Weekly</strong>: Check server logs for errors and issues</li>
            <li><strong>Weekly</strong>: Database backup</li>
            <li><strong>Monthly</strong>: Update dependencies</li>
            <li><strong>Monthly</strong>: Security updates for server</li>
            <li><strong>Quarterly</strong>: Performance review and optimization</li>
        </ul>
        
        <h3>Monitoring</h3>
        <ul>
            <li>Set up server monitoring with tools like Prometheus and Grafana</li>
            <li>Configure alerts for critical issues</li>
            <li>Monitor API performance and error rates</li>
            <li>Track frontend performance with error tracking tools</li>
        </ul>
        
        <h3>Backup Strategy</h3>
        <ul>
            <li>Daily automated database backups</li>
            <li>Weekly full system backups</li>
            <li>Store backups both locally and in cloud storage</li>
            <li>Regularly test backup restoration process</li>
        </ul>
        
        <h2>Future Enhancements</h2>
        
        <div class="task-list">
            <div class="task-item">
                <div class="task-header">
                    <span class="task-title">Advanced Search with Elasticsearch</span>
                    <span class="task-priority medium">Medium Priority</span>
                </div>
                <div class="task-description">Integrate Elasticsearch for more powerful and efficient search capabilities.</div>
            </div>
            
            <div class="task-item">
                <div class="task-header">
                    <span class="task-title">Content Templates</span>
                    <span class="task-priority medium">Medium Priority</span>
                </div>
                <div class="task-description">Create reusable page templates for common content structures.</div>
            </div>
            
            <div class="task-item">
                <div class="task-header">
                    <span class="task-title">Real-time Collaboration</span>
                    <span class="task-priority low">Low Priority</span>
                </div>
                <div class="task-description">Implement real-time collaborative editing using operational transforms or CRDT.</div>
            </div>
            
            <div class="task-item">
                <div class="task-header">
                    <span class="task-title">PDF Export</span>
                    <span class="task-priority low">Low Priority</span>
                </div>
                <div class="task-description">Add functionality to export wiki pages as PDF documents.</div>
            </div>
            
            <div class="task-item">
                <div class="task-header">
                    <span class="task-title">Advanced Analytics</span>
                    <span class="task-priority low">Low Priority</span>
                </div>
                <div class="task-description">Implement analytics to track page views, popular content, and user engagement.</div>
            </div>
        </div>
        
        <h2>Conclusion</h2>
        
        <p>This project plan outlines a comprehensive approach to building a custom wiki system using React/Vite for the frontend and Node.js/Express/MongoDB for the backend. The plan addresses all aspects of the project, from initial setup to deployment and maintenance.</p>
        
        <p>By following this plan, you'll create a wiki system that overcomes the HTML limitations of Wiki.js while maintaining ease of use. The React/Vite approach provides complete creative freedom in design and functionality, allowing you to build exactly the wiki experience you want.</p>
        
        <p>The modular architecture ensures that the system can be extended and enhanced over time as new requirements emerge. By prioritizing core functionality first and adding advanced features incrementally, you'll have a working system early in the development process that can evolve based on actual usage and feedback.</p>
        
        <footer>
            <p>Custom Wiki Project Plan | Created May 4, 2025</p>
        </footer>
    </div>
</body>
</html>
